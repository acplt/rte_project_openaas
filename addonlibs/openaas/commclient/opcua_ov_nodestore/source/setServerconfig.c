
/******************************************************************************
 *
 *   FILE
 *   ----
 *   setServerconfig.c
 *
 *   History
 *   -------
 *   2016-06-16   File created
 *
 *******************************************************************************
 *
 *   This file is generated by the 'acplt_builder' command
 *
 ******************************************************************************/


#ifndef OV_COMPILE_LIBRARY_opcua
#define OV_COMPILE_LIBRARY_opcua
#endif


#include "opcua.h"
#include "libov/ov_macros.h"


OV_DLLFNCEXPORT OV_RESULT opcua_setServerconfig_constructor(
		OV_INSTPTR_ov_object 	pobj
) {
	/*
	 *   local variables
	 */
	OV_INSTPTR_opcua_getServerconfig pinst = Ov_StaticPtrCast(opcua_getServerconfig, pobj);
	OV_RESULT    result;
	OV_STRING  Names [] = {"ov_time_offset", "ks_maxitemsperrequest", "maxstringlength", "maxvectorlength", "maxnamelength",
			"maxhierarhydepth",	"ov_scheduler_allowed_jitter"};
	OV_STRING Descriptions [] = {"no idea", "maximum number of items in aks-request", "maximum length of a sting", "maximum number ov elements in a vector (array)", "maximum length of names",
			"maximum depth of instance hierarchy", "maximum jitter in scheduler"};
	OV_INT Types [] = {OV_VT_TIME_SPAN, OV_VT_UINT, OV_VT_UINT, OV_VT_UINT, OV_VT_UINT,
			OV_VT_UINT, OV_VT_UINT};
	OV_BOOL IsArray [] = {FALSE, FALSE, FALSE, FALSE, FALSE,
			FALSE, FALSE};
	OV_UINT Lengths [] = {0, 0, 0, 0, 0,
			0, 0};


	/* do what the base class does first */
	result = ov_object_constructor(pobj);
	if(Ov_Fail(result))
		return result;

	/* do what */
	opcua_nodeStoreFunctions_setCallArgs(&(pinst->p_InputArguments), 7, Names, Descriptions, Types, IsArray, Lengths);
	opcua_nodeStoreFunctions_setCallArgs(&(pinst->p_OutputArguments), 7, Names, Descriptions, Types, IsArray, Lengths);

	return OV_ERR_OK;
}

OV_DLLFNCEXPORT OV_RESULT opcua_setServerconfig_calledMethod(
		OV_INSTPTR_opcua_methodNode pobj,
		size_t numberofInputArgs,
		const UA_Variant *packedInputArgList,
		size_t numberofOutputArgs,
		UA_Variant **packedOutputArgList
) {
	/*
	 *   local variables
	 */
	OV_ANY outputs [7];
	OV_ANY inputs[7];
	OV_RESULT result;

	/*	set	- error handling is omitted here	*/
	result = opcua_nodeStoreFunctions_unpackCallArgs(7, packedInputArgList, inputs);
	ov_vendortree_settimeoffset(&(inputs[0]), NULL);
	ov_vendortree_setKsMaxItems(&(inputs[1]), NULL);
	ov_vendortree_setMaxStringLength(&(inputs[2]), NULL);
	ov_vendortree_setMaxVectorLength(&(inputs[3]), NULL);
	ov_vendortree_setMaxNameLength(&(inputs[4]), NULL);

	ov_vendortree_setMaxHierarchyDepth(&(inputs[5]), NULL);
	ov_vendortree_setAllowedJitter(&(inputs[6]), NULL);

	/*	readBack	*/
	ov_vendortree_gettimeoffset(&(outputs[0]), NULL);
	ov_vendortree_getKsMaxItems(&(outputs[1]), NULL);
	ov_vendortree_getMaxStringLength(&(outputs[2]), NULL);
	ov_vendortree_getMaxVectorLength(&(outputs[3]), NULL);
	ov_vendortree_getMaxNameLength(&(outputs[4]), NULL);

	ov_vendortree_getMaxHierarchyDepth(&(outputs[5]), NULL);
	ov_vendortree_getAllowedJitter(&(outputs[6]), NULL);

	/*	pack outputs	*/
	result = opcua_nodeStoreFunctions_packCallArgs(7, outputs, packedOutputArgList);
	return result;
}

